[
  {
    "expr": "histogram_quantile(0.99,sum(rate(apiserver_request_duration_seconds_bucket{job=\\\"apiserver\\\", verb!=\\\"WATCH\\\"}[5m])) by (le))",
    "record": "apiserver_request_duration_seconds:histogram_quantile_99"
  },
  {
    "expr": "histogram_quantile(0.99, sum(rate(apiserver_request_duration_seconds_bucket{job=\\\"apiserver\\\", verb!=\\\"WATCH\\\"}[5m])) by (le, verb, instance))",
    "record": "apiserver_request_duration_seconds:histogram_quantile_99:instance"
  },
  {
    "expr": "sum(rate(apiserver_request_total{job=\\\"apiserver\\\"}[1h])) by(code, instance)",
    "record": "sum:apiserver_request_total:1h"
  },
  {
    "expr": "sum(rate(apiserver_request_total{job=\\\"apiserver\\\"}[5m])) by(code, instance)",
    "record": "sum:apiserver_request_total:5m"
  },
  {
    "expr": "sum(rate(grpc_server_handled_total{job=\\\"etcd\\\",grpc_type=\\\"unary\\\",grpc_code!=\\\"OK\\\"}[5m]))",
    "record": "rpc_rate:grpc_server_handled_total:sum_rate"
  },
  {
    "expr": "sum(grpc_server_started_total{job=\\\"etcd\\\",grpc_service=\\\"etcdserverpb.Watch\\\",grpc_type=\\\"bidi_stream\\\"}) - sum(grpc_server_handled_total{job=\\\"etcd\\\",grpc_service=\\\"etcdserverpb.Watch\\\",grpc_type=\\\"bidi_stream\\\"})",
    "record": "active_streams_watch:grpc_server_handled_total:sum"
  },
  {
    "expr": "sum(grpc_server_started_total{job=\\\"etcd\\\",grpc_service=\\\"etcdserverpb.Lease\\\",grpc_type=\\\"bidi_stream\\\"}) - sum(grpc_server_handled_total{job=\\\"etcd\\\",grpc_service=\\\"etcdserverpb.Lease\\\",grpc_type=\\\"bidi_stream\\\"})",
    "record": "active_streams_lease:grpc_server_handled_total:sum"
  },
  {
    "expr": "sum(sum(sum(kube_pod_container_resource_requests{resource=\\\"cpu\\\"}) by (pod,namespace,container) * on(pod,namespace) group_left(phase) max(kube_pod_status_phase{phase=~\\\"Running|Pending|Unknown\\\"} >0) by (pod,namespace,phase)) by (pod,namespace,phase))",
    "record": "cluster:kube_pod_container_resource_requests:cpu:sum"
  },
  {
    "expr": "sum(sum(sum(kube_pod_container_resource_requests{resource=\\\"memory\\\"}) by (pod,namespace,container) * on(pod,namespace) group_left(phase) max(kube_pod_status_phase{phase=~\\\"Running|Pending|Unknown\\\"} >0) by (pod,namespace,phase)) by (pod,namespace,phase))",
    "record": "cluster:kube_pod_container_resource_requests:memory:sum"
  },
  {
    "expr": "sum(increase(apiserver_request_duration_seconds_bucket{job=\\\"apiserver\\\",service=\\\"kubernetes\\\",le=\\\"1\\\",verb=~\\\"POST|PUT|DELETE|PATCH\\\"}[1m])) / sum(increase(apiserver_request_duration_seconds_count{job=\\\"apiserver\\\",service=\\\"kubernetes\\\",verb=~\\\"POST|PUT|DELETE|PATCH\\\"}[1m]))",
    "record": "sli:apiserver_request_duration_seconds:trend:1m"
  },
  {
    "expr": "sum(container_memory_rss) by (container, namespace)",
    "record": "container_memory_rss:sum"
  },
  {
    "expr": "sum(kube_pod_container_resource_limits) by (resource, namespace)",
    "record": "kube_pod_container_resource_limits:sum"
  },
  {
    "expr": "sum(kube_pod_container_resource_requests{container!=\\\"\\\"}) by (resource, namespace)",
    "record": "kube_pod_container_resource_requests:sum"
  },
  {
    "expr": "count(avg(namespace_workload_pod:kube_pod_owner:relabel{pod!=\\\"\\\"}) by (workload, namespace)) by (namespace)",
    "record": "namespace_workload_pod:kube_pod_owner:relabel:avg"
  },
  {
    "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{container!=\\\"\\\"}) by (namespace)",
    "record": "node_namespace_pod_container:container_cpu_usage_seconds_total:sum"
  }
]
